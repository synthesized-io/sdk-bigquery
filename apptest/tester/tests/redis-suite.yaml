actions:
- name: Check success authentication
  bashTest:
    script: redis-cli -h ${APP_INSTANCE_NAME}-redis-service -a ${REDIS_PASSWORD} ping
    expect:
      stdout:
        contains: 'PONG'
      exitCode:
        equals: 0

- name: Check bad authentication
  bashTest:
    script: redis-cli -h ${APP_INSTANCE_NAME}-redis-service -a wrongpassword ping
    expect:
      exitCode:
        equals: 0
      stdout:
        contains: "NOAUTH Authentication required"
